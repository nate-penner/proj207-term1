<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('meta') %>
        <meta charset="UTF-8">
        <title>Title</title>
        <%- include('stylesheets') %>
        <%- include('scripts') %>
        <script>
            window.addEventListener('load', main);

            function main() {
                document.querySelectorAll('#page-header nav .links').forEach((link) => {
                    if (link.innerHTML === 'Contact') {
                        link.style.backgroundColor = '#00aae6';
                        link.style.borderBottom = '0.15em solid white';
                    }
                });
            }
        </script>
        <style>
            #main-content h1 {
                text-align: center;
                font-size: 2em;
                font-weight: bold;
            }
            #main-content article {
                width: 15%;
                text-align: center;
                margin: 1em auto 0 auto;
                padding:5px;
            }
            strong {
                font-weight: bold;
            }
            li {
                line-height: 1.5;
            }
            article h2 {
                text-decoration: underline;
                font-weight: bold;
                font-size: 1.25em;
                margin-top: 1em;
            }
        </style>
    </head>
    <body>
        <%- include('header') %>

        <section id="main-content">
            <h1>Contact Us</h1>

            <article>
                <p>
                    <a href="">Calgary</a>|<a href="">Okotoks</a>
                    <ul>
                        <% agencies.forEach((agency) => { %>
                            <strong>
                                <h2><%= agency.AgencyCity %> Branch</h2>
                                <li>
                                    <%= agency.AgencyAdd %><br>
                                    <%= agency.AgencyCity %>
                                    <%= agency.AgencyProv %>
                                    <%= agency.AgencyPostal %><br>
                                    <%= agency.AgencyCountry %><br>
                                    <span style="color: #1a1e21">
                                       Phone: <%= agency.AgencyPhoneNo %><br>
                                       Fax: <%= agency.AgencyFax %>
                                    </span><br><br>
                                </li>
                                <li>
                                    <strong>
                                        <% agents.forEach((agent) => {
                                            if (agent.AgencyId === agency.AgencyId) { %>
                                            <span style="text-decoration: underline">
                                            <%= agent.FirstName %>
                                            <%= agent.LastName %></span><br>
                                            <span style="color: #1a1e21">
                                                Phone: <%= agent.PhoneNo %><br>
                                                Email: <%= agent.Email %>
                                            </span><br><br>
                                            <% } %>
                                        <% }) %>
                                    </strong>
                                </li>
                            </strong>
                        <% }) %>
                    </ul>
                </p>
            </article>
        </section>

        <%- include('footer') %>
    </body>
</html>